{% extends "base.html" %}

{% block title %}ëŒ€ì‹œë³´ë“œ - ë¯¸ë””ì–´ í”Œë«í¼{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1 style="margin-bottom: 0.5rem;">ë¯¸ë””ì–´ í”Œë«í¼ ëŒ€ì‹œë³´ë“œ</h1>
    <p style="color: var(--text-secondary); margin-bottom: 2rem;">ê³µí†µ ë°±ì—”ë“œ API ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
</div>

<div class="stats-grid">
    <div class="card stat-card">
        <div class="stat-icon" style="color: var(--accent-color);">ğŸ‘¥</div>
        <div class="stat-content">
            <h3 class="stat-value">{{ total_users|default:"0" }}</h3>
            <p class="stat-label">ì „ì²´ ì‚¬ìš©ì</p>
        </div>
    </div>

    <div class="card stat-card">
        <div class="stat-icon" style="color: var(--success-color);">ğŸ”‘</div>
        <div class="stat-content">
            <h3 class="stat-value">{{ total_api_keys|default:"0" }}</h3>
            <p class="stat-label">í™œì„± API Keys</p>
        </div>
    </div>

    <div class="card stat-card">
        <div class="stat-icon" style="color: var(--warning-color);">ğŸµ</div>
        <div class="stat-content">
            <h3 class="stat-value">3</h3>
            <p class="stat-label">ì„œë¹„ìŠ¤</p>
        </div>
    </div>

    <div class="card stat-card">
        <div class="stat-icon" style="color: var(--danger-color);">ğŸš€</div>
        <div class="stat-content">
            <h3 class="stat-value">ìš´ì˜ ì¤‘</h3>
            <p class="stat-label">ì‹œìŠ¤í…œ ìƒíƒœ</p>
        </div>
    </div>
</div>

<div class="card">
    <h2 class="card-title">ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥</h2>
    <div class="features-grid">
        <div class="feature-item">
            <h3>ğŸ” JWT ì¸ì¦</h3>
            <p>Access Token 60ë¶„, Refresh Token 24ì‹œê°„</p>
            <a href="/api/v1/auth/login/" class="btn btn-primary" style="margin-top: 1rem;">ë¡œê·¸ì¸</a>
        </div>

        <div class="feature-item">
            <h3>ğŸ”‘ API Key ê´€ë¦¬</h3>
            <p>Public Token ê¸°ë°˜ ì„œë¹„ìŠ¤ ì¸ì¦</p>
            <a href="/api/v1/auth/api-keys/" class="btn btn-success" style="margin-top: 1rem;">API Keys</a>
        </div>

        <div class="feature-item">
            <h3>ğŸ“š API ë¬¸ì„œ</h3>
            <p>Swagger & ReDoc ìë™ ìƒì„±</p>
            <a href="/api/docs/" class="btn btn-warning" style="margin-top: 1rem;">ë¬¸ì„œ ë³´ê¸°</a>
        </div>

        <div class="feature-item">
            <h3>âš™ï¸ ê´€ë¦¬ì í˜ì´ì§€</h3>
            <p>Django Admin íŒ¨ë„</p>
            <a href="/admin/" class="btn btn-danger" style="margin-top: 1rem;">ê´€ë¦¬ì</a>
        </div>
    </div>
</div>

<div class="card">
    <h2 class="card-title">ğŸ¯ API ì—”ë“œí¬ì¸íŠ¸</h2>
    <div class="api-list">
        <div class="api-item">
            <span class="api-method post">POST</span>
            <code>/api/v1/auth/register/</code>
            <span class="api-desc">íšŒì›ê°€ì…</span>
        </div>
        <div class="api-item">
            <span class="api-method post">POST</span>
            <code>/api/v1/auth/login/</code>
            <span class="api-desc">ë¡œê·¸ì¸ (JWT í† í° ë°œê¸‰)</span>
        </div>
        <div class="api-item">
            <span class="api-method post">POST</span>
            <code>/api/v1/auth/logout/</code>
            <span class="api-desc">ë¡œê·¸ì•„ì›ƒ</span>
        </div>
        <div class="api-item">
            <span class="api-method post">POST</span>
            <code>/api/v1/auth/refresh/</code>
            <span class="api-desc">í† í° ê°±ì‹ </span>
        </div>
        <div class="api-item">
            <span class="api-method get">GET</span>
            <code>/api/v1/auth/me/</code>
            <span class="api-desc">ë‚´ í”„ë¡œí•„ ì¡°íšŒ</span>
        </div>
        <div class="api-item">
            <span class="api-method get">GET</span>
            <code>/api/v1/auth/api-keys/</code>
            <span class="api-desc">API Key ëª©ë¡</span>
        </div>
        <div class="api-item">
            <span class="api-method post">POST</span>
            <code>/api/v1/auth/api-keys/</code>
            <span class="api-desc">API Key ìƒì„±</span>
        </div>
    </div>
</div>

<div class="card">
    <h2 class="card-title">â„¹ï¸ ì‹œìŠ¤í…œ ì •ë³´</h2>
    <table class="info-table">
        <tr>
            <td><strong>Django ë²„ì „</strong></td>
            <td>5.1.4</td>
        </tr>
        <tr>
            <td><strong>Python ë²„ì „</strong></td>
            <td>3.12</td>
        </tr>
        <tr>
            <td><strong>ë°ì´í„°ë² ì´ìŠ¤</strong></td>
            <td>PostgreSQL 16 / SQLite</td>
        </tr>
        <tr>
            <td><strong>ì¸ì¦ ë°©ì‹</strong></td>
            <td>JWT (Simple JWT) + API Key</td>
        </tr>
        <tr>
            <td><strong>ìºì‹±</strong></td>
            <td>Redis 7 / LocMemCache</td>
        </tr>
        <tr>
            <td><strong>íƒœìŠ¤í¬ í</strong></td>
            <td>Celery 5.4.0</td>
        </tr>
    </table>
</div>

{% block extra_css %}
<style>
    .dashboard-header {
        margin-bottom: 2rem;
    }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        display: flex;
        align-items: center;
        gap: 1.5rem;
        padding: 1.5rem;
    }

    .stat-icon {
        font-size: 3rem;
    }

    .stat-content {
        flex: 1;
    }

    .stat-value {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 0.25rem;
    }

    .stat-label {
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-top: 1rem;
    }

    .feature-item {
        padding: 1rem;
        border: 1px solid var(--border-color);
        border-radius: 6px;
        background-color: var(--bg-tertiary);
    }

    .feature-item h3 {
        margin-bottom: 0.5rem;
        color: var(--text-primary);
    }

    .feature-item p {
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-bottom: 0;
    }

    .api-list {
        margin-top: 1rem;
    }

    .api-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem;
        border-bottom: 1px solid var(--border-color);
    }

    .api-item:last-child {
        border-bottom: none;
    }

    .api-method {
        padding: 0.25rem 0.75rem;
        border-radius: 4px;
        font-weight: bold;
        font-size: 0.8rem;
        min-width: 60px;
        text-align: center;
    }

    .api-method.get {
        background-color: rgba(40, 167, 69, 0.2);
        color: var(--success-color);
    }

    .api-method.post {
        background-color: rgba(13, 110, 253, 0.2);
        color: var(--accent-color);
    }

    .api-method.put {
        background-color: rgba(255, 193, 7, 0.2);
        color: var(--warning-color);
    }

    .api-method.delete {
        background-color: rgba(220, 53, 69, 0.2);
        color: var(--danger-color);
    }

    .api-item code {
        flex: 1;
        background-color: var(--bg-tertiary);
        padding: 0.25rem 0.5rem;
        border-radius: 4px;
        font-family: 'Monaco', 'Menlo', monospace;
        font-size: 0.9rem;
    }

    .api-desc {
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    .info-table {
        width: 100%;
        margin-top: 1rem;
    }

    .info-table td {
        padding: 0.75rem;
        border-bottom: 1px solid var(--border-color);
    }

    .info-table tr:last-child td {
        border-bottom: none;
    }

    .info-table td:first-child {
        width: 200px;
    }

    @media (max-width: 768px) {
        .stats-grid {
            grid-template-columns: 1fr;
        }

        .features-grid {
            grid-template-columns: 1fr;
        }

        .api-item {
            flex-direction: column;
            align-items: flex-start;
        }

        .api-item code {
            width: 100%;
        }
    }
</style>
{% endblock %}
{% endblock %}
